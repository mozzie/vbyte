\chapter{Introduction}
Enormous datasets are a common case in today's applications. Compressing the datasets is beneficial, because they 
naturally decrease memory requirements but also are faster when compressed data is read from disk \citep{Zob95}.

One of the leading methods of data compression is variable-length coding \citep{Sal99}, where frequent sequences of data
are represented with shorter codewords. Because the sequences of data have different lenghts when compressed, it is 
not trivial to determine the exact location of a certain element. If this is required, the usual data compression algorithms are
inefficient. Fortunately this is not a requirement compression algorithms usually need to fulfill. 

However, random access of compressed data is needed in compressed data structures. In most compression methods, the only way 
to this is to decompress data from the beginning. An integer compressing method with fast random access is explained and compared
existing state-of-the-art methods.

\chapter{Basic Concepts}
Variable-byte encoding \citep{Wil99} is a method of compressing integers. It splits an integer into blocks of $b$ bits and then encodes
the block as $b + c$. $c$ is a bit denoting whether $b$ has the most significant bits of the number or not. (example?) A good dataset for variable-byte encoding
is a set with both very small and very large numbers, since the compression comes from omitting the leading zeros in the bit array. This method 
loses in compression performance to other methods \citep{Bri09}, but decoding is fast.

Rank and select are two functions that work on bit arrays. Rank(i) gives the sum of 1 bits from the beginning of the bit array and select(i) gives
the index of ith 1 bit in the bit array. Both functions work in constant time (citation?) and they require only a few percents of extra space over
the data. The extra bits $c$ added by variable-byte encoding conveniently create a bit array, where 1's represent the endings of numbers. An effective
version of random access has already been introduced \citep{Bri09}. It uses one rank call for each block after the first which makes the fetching very
fast if the number in question fits to one block.

An effective version with select is also possible. The index of the block where ith number starts is obtainable with select(i-1)+1, when i > 0 and 0 when i=0.
By separating the $c$ bit array and $b$ block array, $b$ now contains variable-byte integers in readable form. Another upside is that functions 
next(i) and previous(i) are conveniently available without any extra calculation and the runtime is not dependent on the size of the value.

- explain how random access is good 

\chapter{Previous Work}
bl

\chapter{Algorithm}
 - modifications to basic implementation
 
\chapter{Results}
 - comparison to basic implementation + Bri09
 - 
\chapter{Conclusion}
 - here

\chapter{Future work}
 - something to improve / research?


\section{Figures}
Figure~\ref{fig:logo} gives an example how to add figures to the document. Remember always to cite the figure in the main text.

\begin{figure}[h!] 
\centering 
\includegraphics[width=0.3\textwidth]{HY-logo-ml.png}
\caption{University of Helsinki flame-logo for Faculty of Science.\label{fig:logo}}
\end{figure}

\section{Tables}

Table~\ref{table:results} gives an example how to report experimental results. Remember always to cite the table in the main text. 

\begin{table}
\centering
\caption{Results with 100k entries (in milliseconds).\label{table:results}}
\begin{tabular}{l||l c c c c r} 
Experiment & 128 & 256 & 32768 & 65536 & $2^{24}$ & $2^{32} -1$\\ 
\hline \hline 
$7bit VByte encoding$ & 34.97 & 49 & 53.04 & 52.18 & 53.08 & 76.21\\
$8bit VByte encoding$ & 33.57 & 32.47 & 42.96 & 43.11 & 46.15 & 65.14\\
$7bit VByte encoding with array$ & 33.39 & 46.85 & 51.24 & 49.03 & 48.93 & 66.84 \\
$8bit VByte encoding with array$ & 32.52 & 31.88 & 41.54 & 39.94 & 41.15 & 52.86 \\

\hline
%
\end{tabular}
\end{table}

\begin{table}
\centering
\caption{Results with 1M entries (in milliseconds).\label{table:results}}
\begin{tabular}{l||l c c c c r} 
Experiment & 128 & 256 & 32768 & 65536 & $2^{24}$ & $2^{32} -1$ \\ 
\hline \hline 
$7bit VByte encoding$ & 38.17 & 55.09 & 64.38 & 65.36 & 68.08 & 159 \\
$8bit VByte encoding$ & 37.09 & 37.75 & 53.44 & 54.6 & 59.32 & 148.7\\
$7bit VByte encoding with array$ & 38.09 & 55.42 & 62.22 & 61.25 & 71.72 & 135.01\\
$8bit VByte encoding with array$ & 36.13 & 36.83 & 50.58 & 50.73 & 56.93 & 103.18\\

\hline
%
\end{tabular}
\end{table}

\chapter{Citations}

\section{Citations to literature}

References are listed in a separate .bib-file. In this case it is named \texttt{bibliography.bib} including the following content:
\begin{verbatim}

@article{einstein,
    author =       "Albert Einstein",
    title =        "{Zur Elektrodynamik bewegter K{\"o}rper}. ({German})
        [{On} the electrodynamics of moving bodies]",
    journal =      "Annalen der Physik",
    volume =       "322",
    number =       "10",
    pages =        "891--921",
    year =         "1905",
    DOI =          "http://dx.doi.org/10.1002/andp.19053221004"
}
 
@book{latexcompanion,
    author    = "Michel Goossens and Frank Mittelbach and Alexander Samarin",
    title     = "The \LaTeX\ Companion",
    year      = "1993",
    publisher = "Addison-Wesley",
    address   = "Reading, Massachusetts"
}
 
@misc{knuthwebsite,
    author    = "Donald Knuth",
    title     = "Knuth: Computers and Typesetting",
    url       = "http://www-cs-faculty.stanford.edu/%7Eknuth/abcde.html"
}
\end{verbatim}

In the last reference url field the code \verb+%7E+ will translate into \verb+~+ once clicked in the final pdf.

References are created using command \texttt{\textbackslash cite\{einstein\}}, showing as \citep{einstein}. Other examples: \citep{latexcompanion,knuthwebsite}.

Citation style can be negotiated with the supervisor. See some options in \url{https://www.sharelatex.com/learn/Bibtex_bibliography_styles}.

\section{Crossreferences}

Appendix~\ref{appendix:model} on page~\pageref{appendix:model} contains some additional material.

\chapter{From tex to pdf}

In Linux, run \texttt{pdflatex filename.tex} and \texttt{bibtex filename.tex} repeatedly until no more warnings are shown. This process can be automised using make-command.
 
\chapter{Conclusions\label{chapter:conclusions}}

It is good to conclude with a summary of findings. You can also use separate chapter for discussion and future work. These details you can negotiate with your supervisor.

